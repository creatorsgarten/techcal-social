import { expect, test } from "vitest";
import { getExcerpt } from "./getExcerpt";

const fixtures: Record<string, [string, string | undefined]> = {
  a: [
    "üöÄ ‡∏Ç‡∏≠‡πÄ‡∏ä‡∏¥‡∏ç‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô AWS Cloud Day Thailand (8 ‡∏™.‡∏Ñ. 2566 ‡∏ì ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡∏™‡∏¥‡∏£‡∏¥‡∏Å‡∏¥‡∏ï‡πå) üöÄ\n\n‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏ä‡∏¥‡∏ç‡∏ó‡∏∏‡∏Å‡∏ó‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ ‚ÄúAWS Cloud Day Thailand‚Äù ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏¢ Business ‡∏´‡∏£‡∏∑‡∏≠ Tech ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Startup ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á Enterprise\n\n‡∏°‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞ Trend ‡πÉ‡∏´‡∏°‡πà ‡πÜ ‡∏î‡πâ‡∏≤‡∏ô Cloud ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö Sessions ‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô AI/ML, Data Analytics, Containers, Serverless ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢\n\n‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢) ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà https://go.aws/3NCypTd\n",
    "üöÄ ‡∏Ç‡∏≠‡πÄ‡∏ä‡∏¥‡∏ç‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô AWS Cloud Day Thailand (8 ‡∏™.‡∏Ñ. 2566 ‡∏ì ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡∏™‡∏¥‡∏£‡∏¥‡∏Å‡∏¥‡∏ï‡πå) üöÄ",
  ],
  b: [
    "üî• Update: ‡∏á‡∏≤‡∏ô Google I/O Extended Cloud Bangkok ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö GDG Bangkok ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 19 ‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2566\n\nGoogle I/O Extended Cloud Bangkok 2023 ‡∏Ñ‡∏∑‡∏≠ ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÇ‡∏î‡∏¢ GDG Cloud Bangkok community ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡∏à‡∏≤‡∏Å‡∏á‡∏≤‡∏ô Google I/O ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ\n\n‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà technology Google Cloud Platform (GCP), AI/ML ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á Generative AI\n\nüî• Update: ‡∏á‡∏≤‡∏ô Google I/O Extended Cloud Bangkok ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö GDG Bangkok ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 19 ‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2566\nüìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: 19 ‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2566 ‡πÄ‡∏ß‡∏•‡∏≤ 11.00 - 20.00 ‡∏ô.\nüìç ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà: Siam Paragon\n\n‡∏£‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡πÄ‡∏£‡πá‡∏ß ‡πÜ ‡∏ô‡∏µ‡πâ\n\nhttps://gdg.community.dev/events/details/google-gdg-cloud-bangkok-presents-google-io-extended-cloud-bangkok-2023\n",
    "üî• Update: ‡∏á‡∏≤‡∏ô Google I/O Extended Cloud Bangkok ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö GDG Bangkok ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 19 ‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2566",
  ],
  c: [
    '<p><strong>Title:</strong> GraphQL Bangkok 11.0 Meetup<br><strong>Date and time:</strong> 31st July 2023, 6.00 PM<br><strong>Venue:</strong> True Digital Park (East) - 7th floor - Townhall S - (In-person event)<br><strong>RSVP required:</strong> RSVP on <a href="https://www.meetup.com/GraphQL-Bangkok/">Meetup.com</a> required - limited seats<br><strong>Price:</strong> Free to attend, Food &amp; Drinks provided<br><strong>Sponsors:</strong> <a href="https://www.hubql.com/">Hubql</a></p><p><strong>Agenda:</strong><br><strong>06.00 - 06:30 PM:</strong> Registration/Food - get your access at Pegasus building lobby with a sticker to skip ID check.<br><strong>06:30 - 06:45 PM:</strong> Welcome Word: Tobias Meixner</p><p><strong>Talks:</strong><br><strong>06:45 - 07:15 PM:</strong> Talk 1 - <strong>GraphQL vs TRPC vs REST: Kongkeit Khunpanitchot</strong><br><strong>Description:</strong><br>Comparing GraphQL to other solutions and when to use either to guide when is GraphQL the right tool for the job.</p><p><strong>07:15 - 07:45 PM:</strong> Talk 2 - <strong>GraphQL Observability: Dan Starns</strong><br><strong>Description:</strong><br>So you spent all this time building and deploying your GraphQL API but your users are reporting slow queries and crashes. Before you can pinpoint those issues you first need to know how many requests you are getting, what each query was, and what‚Äôs going on in your resolvers. Join Dan where you will learn what observability is, how you can install it onto your GraphQL API, and how you can use it to improve your user\'s experience.</p><p><strong>07:45 - 08:15 PM:</strong> Talk 3 or Lightning Talks - Submit your talk in our CFP or reach out to us during the event:<br><a href="https://forms.gle/ogc79FTTzTb4ypcz8">https://forms.gle/ogc79FTTzTb4ypcz8</a></p><p><strong>08:15 -</strong> Networking &amp; After party at your own expense @ <a href="https://goo.gl/maps/KMhc3zq5SgkuvG9s5">Hunters Garden</a></p>',
    "Title: GraphQL Bangkok 11.0 Meetup",
  ],
  d: [
    '<div dir="auto">üì£‡∏™‡∏°‡∏≤‡∏Ñ‡∏°‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå‡πÑ‡∏ó‡∏¢ ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö LSEG, <a href="https://www.facebook.com/krungsrinimble?__cft__[0]=AZXL7RKdvbK2hbW2I0kHV1DcBeoC3xobyeFv5zO8I_NfIbStNYpYwSawBBTXxOVTcZUSmA89ZJhDp8ocCZSIS1iOiQw2u9mKNBJdmXVA5fn8rFSDjrrA5BAN8aiYyaow_JDBOBdxwZCVSAAkoeT99Z8m&amp;__tn__=-]K-R">Krungsri Nimble</a> ‡πÅ‡∏•‡∏∞ <a href="https://www.facebook.com/profile.php?id=100063551352462&amp;__cft__[0]=AZXL7RKdvbK2hbW2I0kHV1DcBeoC3xobyeFv5zO8I_NfIbStNYpYwSawBBTXxOVTcZUSmA89ZJhDp8ocCZSIS1iOiQw2u9mKNBJdmXVA5fn8rFSDjrrA5BAN8aiYyaow_JDBOBdxwZCVSAAkoeT99Z8m&amp;__tn__=-]K-R">Doppio TECH</a> ‡∏à‡∏±‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° meetup <div dir="auto">.<div dir="auto">QA Meetup<div dir="auto">.<div dir="auto">üìç‡∏°‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡πÅ‡∏•‡∏∞‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ QA ‡πÉ‡∏ô‡∏¢‡∏∏‡∏Ñ‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß<br><a href="https://www.eventpop.me/e/15796">https://www.eventpop.me/e/15796</a>',
    "üì£‡∏™‡∏°‡∏≤‡∏Ñ‡∏°‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå‡πÑ‡∏ó‡∏¢ ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö LSEG, Krungsri Nimble ‡πÅ‡∏•‡∏∞ Doppio TECH ‡∏à‡∏±‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° meetup",
  ],
  e: ["https://creatorsgarten.org/event/cssmeetup0823", undefined],
};

for (const [key, [input, expected]] of Object.entries(fixtures)) {
  test(key, () => {
    const actual = getExcerpt(input);
    expect(actual).toBe(expected);
  });
}
